{% extends "base.html" %}

{% block content %}

<h2>Edit My Watchlist</h2>

<form action="/add" method="post">
    <label>
        I want to add
        <input type="text" name="new-movie"/>
        to my watchlist.
    </label>
    <input type="submit" value="Add It"/>
</form>

<form action="/crossoff" method="post">
    {% if watchlist == [] %}
        <p>There are currently no movies on your watchlist</p>
    {% endif %}

    {% else %}
        <label>
            I want to cross off
            <select name="crossed-off-movie">
                <!-- need to loop over watchlist to create option elements -->
                {% for movie in watchlist: %}
                    <option value="{{ movie }}">{{ movie }}</option>
                {% endfor %}
            </select>
            from my watchlist.
        </label>
        <input type="submit" value="Cross It Off"/>
    {% endelse %}
</form>
{% end block %}

{% block content %}
    {% if error %}
        <p class='error'>{{ error }}</p>
    {% endif %}

    {% if watchlist|length >= 1 %}
        <h2>My Watchlist</h2>
            <ul>
                {% for movie in watchlist %}
                <li> {{movie}} </li>
                {% endfor %}
            </ul>
    {% endif %}

{% endblock %}
